(function(A,d){"object"===typeof exports&&"object"===typeof module?module.exports=d(require("react")):"function"===typeof define&&define.amd?define(["react"],d):"object"===typeof exports?exports.ReactMotion=d(require("react")):A.ReactMotion=d(A.React)})(this,function(A){return function(d){function c(b){if(a[b])return a[b].exports;var n=a[b]={exports:{},id:b,loaded:!1};d[b].call(n.exports,n,n.exports,c);n.loaded=!0;return n.exports}var a={};c.m=d;c.c=a;c.p="build/";return c(0)}([function(d,c,a){function b(a){return a&&
a.__esModule?a["default"]:a}c.__esModule=!0;d=a(1);c.Motion=b(d);d=a(10);c.StaggeredMotion=b(d);d=a(11);c.TransitionMotion=b(d);d=a(13);c.spring=b(d);d=a(14);c.presets=b(d);a=a(15);c.reorderKeys=b(a)},function(d,c,a){function b(a){return a&&a.__esModule?a:{"default":a}}c.__esModule=!0;var n=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var e=arguments[b],g;for(g in e)Object.prototype.hasOwnProperty.call(e,g)&&(a[g]=e[g])}return a},e=a(2),l=b(e),e=a(3),f=b(e),e=a(4),q=b(e),e=a(5),
k=b(e),e=a(7),m=b(e),e=a(8),v=b(e);a=a(9);var s=b(a),p=1E3/60;a=s["default"].createClass({displayName:"Motion",propTypes:{defaultStyle:a.PropTypes.objectOf(a.PropTypes.number),style:a.PropTypes.objectOf(a.PropTypes.oneOfType([a.PropTypes.number,a.PropTypes.object])).isRequired,children:a.PropTypes.func.isRequired,onRest:a.PropTypes.func},getInitialState:function(){var a=this.props,b=a.style,a=a.defaultStyle||f["default"](b),b=l["default"](a);return{currentStyle:a,currentVelocity:b,lastIdealStyle:a,
lastIdealVelocity:b}},wasAnimating:!1,animationID:null,prevTime:0,accumulatedTime:0,unreadPropStyle:null,clearUnreadPropStyle:function(a){var b=!1,e=this.state,g=e.currentStyle,B=e.currentVelocity,D=e.lastIdealStyle,e=e.lastIdealVelocity,t;for(t in a)if(Object.prototype.hasOwnProperty.call(a,t)){var c=a[t];"number"===typeof c&&(b||(b=!0,g=n({},g),B=n({},B),D=n({},D),e=n({},e)),g[t]=c,B[t]=0,D[t]=c,e[t]=0)}b&&this.setState({currentStyle:g,currentVelocity:B,lastIdealStyle:D,lastIdealVelocity:e})},startAnimationIfNecessary:function(){var a=
this;this.animationID=m["default"](function(b){var e=a.props.style;if(v["default"](a.state.currentStyle,e,a.state.currentVelocity)){if(a.wasAnimating&&a.props.onRest)a.props.onRest();a.animationID=null;a.wasAnimating=!1;a.accumulatedTime=0}else{a.wasAnimating=!0;b=b||k["default"]();var g=b-a.prevTime;a.prevTime=b;a.accumulatedTime+=g;a.accumulatedTime>10*p&&(a.accumulatedTime=0);if(0===a.accumulatedTime)a.animationID=null;else{b=(a.accumulatedTime-Math.floor(a.accumulatedTime/p)*p)/p;var g=Math.floor(a.accumulatedTime/
p),c={},D={},t={},l={},d;for(d in e)if(Object.prototype.hasOwnProperty.call(e,d)){var h=e[d];if("number"===typeof h)t[d]=h,l[d]=0,c[d]=h,D[d]=0;else{for(var n=a.state.lastIdealStyle[d],f=a.state.lastIdealVelocity[d],m=0;m<g;m++)f=q["default"](p/1E3,n,f,h.val,h.stiffness,h.damping,h.precision),n=f[0],f=f[1];h=q["default"](p/1E3,n,f,h.val,h.stiffness,h.damping,h.precision);m=h[1];t[d]=n+(h[0]-n)*b;l[d]=f+(m-f)*b;c[d]=n;D[d]=f}}a.animationID=null;a.accumulatedTime-=g*p;a.setState({currentStyle:t,currentVelocity:l,
lastIdealStyle:c,lastIdealVelocity:D});a.unreadPropStyle=null}a.startAnimationIfNecessary()}})},componentDidMount:function(){this.prevTime=k["default"]();this.startAnimationIfNecessary()},componentWillReceiveProps:function(a){null!=this.unreadPropStyle&&this.clearUnreadPropStyle(this.unreadPropStyle);this.unreadPropStyle=a.style;null==this.animationID&&(this.prevTime=k["default"](),this.startAnimationIfNecessary())},componentWillUnmount:function(){null!=this.animationID&&(m["default"].cancel(this.animationID),
this.animationID=null)},render:function(){var a=this.props.children(this.state.currentStyle);return a&&s["default"].Children.only(a)}});c["default"]=a;d.exports=c["default"]},function(d,c){c.__esModule=!0;c["default"]=function(a){var b={},c;for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=0);return b};d.exports=c["default"]},function(d,c){c.__esModule=!0;c["default"]=function(a){var b={},c;for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]="number"===typeof a[c]?a[c]:a[c].val);
return b};d.exports=c["default"]},function(d,c){c.__esModule=!0;c["default"]=function(b,c,e,d,f,q,k){e+=(-f*(c-d)+-q*e)*b;b=c+e*b;if(Math.abs(e)<k&&Math.abs(b-d)<k)return a[0]=d,a[1]=0,a;a[0]=b;a[1]=e;return a};var a=[0,0];d.exports=c["default"]},function(d,c,a){(function(a){(function(){var c,e,l;"undefined"!==typeof performance&&null!==performance&&performance.now?d.exports=function(){return performance.now()}:"undefined"!==typeof a&&null!==a&&a.hrtime?(d.exports=function(){return(c()-l)/1E6},e=
a.hrtime,c=function(){var a;a=e();return 1E9*a[0]+a[1]},l=c()):Date.now?(d.exports=function(){return Date.now()-l},l=Date.now()):(d.exports=function(){return(new Date).getTime()-l},l=(new Date).getTime())}).call(void 0)}).call(c,a(6))},function(d,c){function a(){throw Error("setTimeout has not been defined");}function b(){throw Error("clearTimeout has not been defined");}function n(g){if(v===setTimeout)return setTimeout(g,0);if((v===a||!v)&&setTimeout)return v=setTimeout,setTimeout(g,0);try{return v(g,
0)}catch(b){try{return v.call(null,g,0)}catch(e){return v.call(this,g,0)}}}function e(a){if(s===clearTimeout)return clearTimeout(a);if((s===b||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(a);try{return s(a)}catch(g){try{return s.call(null,a)}catch(e){return s.call(this,a)}}}function l(){z&&g&&(z=!1,g.length?y=g.concat(y):B=-1,y.length&&f())}function f(){if(!z){var a=n(l);z=!0;for(var b=y.length;b;){g=y;for(y=[];++B<b;)g&&g[B].run();B=-1;b=y.length}g=null;z=!1;e(a)}}function q(a,g){this.fun=
a;this.array=g}function k(){}var m=d.exports={},v,s;try{v="function"===typeof setTimeout?setTimeout:a}catch(p){v=a}try{s="function"===typeof clearTimeout?clearTimeout:b}catch(G){s=b}var y=[],z=!1,g,B=-1;m.nextTick=function(a){var g=Array(arguments.length-1);if(1<arguments.length)for(var b=1;b<arguments.length;b++)g[b-1]=arguments[b];y.push(new q(a,g));1!==y.length||z||n(f)};q.prototype.run=function(){this.fun.apply(null,this.array)};m.title="browser";m.browser=!0;m.env={};m.argv=[];m.version="";m.versions=
{};m.on=k;m.addListener=k;m.once=k;m.off=k;m.removeListener=k;m.removeAllListeners=k;m.emit=k;m.binding=function(a){throw Error("process.binding is not supported");};m.cwd=function(){return"/"};m.chdir=function(a){throw Error("process.chdir is not supported");};m.umask=function(){return 0}},function(d,c,a){(function(b){var c=a(5),e="undefined"===typeof window?b:window;b=["moz","webkit"];for(var l=e.requestAnimationFrame,f=e.cancelAnimationFrame||e.cancelRequestAnimationFrame,q=0;!l&&q<b.length;q++)l=
e[b[q]+"RequestAnimationFrame"],f=e[b[q]+"CancelAnimationFrame"]||e[b[q]+"CancelRequestAnimationFrame"];if(!l||!f)var k=0,m=0,v=[],s=1E3/60,l=function(a){if(0===v.length){var b=c(),e=Math.max(0,s-(b-k));k=e+b;setTimeout(function(){for(var a=v.slice(0),g=v.length=0;g<a.length;g++)if(!a[g].cancelled)try{a[g].callback(k)}catch(b){setTimeout(function(){throw b;},0)}},Math.round(e))}v.push({handle:++m,callback:a,cancelled:!1});return m},f=function(a){for(var b=0;b<v.length;b++)v[b].handle===a&&(v[b].cancelled=
!0)};d.exports=function(a){return l.call(e,a)};d.exports.cancel=function(){f.apply(e,arguments)};d.exports.polyfill=function(){e.requestAnimationFrame=l;e.cancelAnimationFrame=f}}).call(c,function(){return this}())},function(d,c){c.__esModule=!0;c["default"]=function(a,b,c){for(var e in b)if(Object.prototype.hasOwnProperty.call(b,e)&&(0!==c[e]||a[e]!==("number"===typeof b[e]?b[e]:b[e].val)))return!1;return!0};d.exports=c["default"]},function(d,c){d.exports=A},function(d,c,a){function b(a){return a&&
a.__esModule?a:{"default":a}}c.__esModule=!0;var n=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var e=arguments[b],g;for(g in e)Object.prototype.hasOwnProperty.call(e,g)&&(a[g]=e[g])}return a},e=a(2),l=b(e),e=a(3),f=b(e),e=a(4),q=b(e),e=a(5),k=b(e),e=a(7),m=b(e),e=a(8),v=b(e);a=a(9);var s=b(a),p=1E3/60;a=s["default"].createClass({displayName:"StaggeredMotion",propTypes:{defaultStyles:a.PropTypes.arrayOf(a.PropTypes.objectOf(a.PropTypes.number)),styles:a.PropTypes.func.isRequired,
children:a.PropTypes.func.isRequired},getInitialState:function(){var a=this.props,b=a.styles,a=a.defaultStyles||b().map(f["default"]),b=a.map(function(a){return l["default"](a)});return{currentStyles:a,currentVelocities:b,lastIdealStyles:a,lastIdealVelocities:b}},animationID:null,prevTime:0,accumulatedTime:0,unreadPropStyles:null,clearUnreadPropStyle:function(a){for(var b=this.state,e=b.currentStyles,g=b.currentVelocities,c=b.lastIdealStyles,b=b.lastIdealVelocities,d=!1,t=0;t<a.length;t++){var l=
a[t],f=!1,h;for(h in l)if(Object.prototype.hasOwnProperty.call(l,h)){var m=l[h];"number"===typeof m&&(f||(d=f=!0,e[t]=n({},e[t]),g[t]=n({},g[t]),c[t]=n({},c[t]),b[t]=n({},b[t])),e[t][h]=m,g[t][h]=0,c[t][h]=m,b[t][h]=0)}}d&&this.setState({currentStyles:e,currentVelocities:g,lastIdealStyles:c,lastIdealVelocities:b})},startAnimationIfNecessary:function(){var a=this;this.animationID=m["default"](function(b){var e=a.props.styles(a.state.lastIdealStyles),g;a:{g=a.state.currentStyles;for(var c=a.state.currentVelocities,
d=0;d<g.length;d++)if(!v["default"](g[d],e[d],c[d])){g=!1;break a}g=!0}if(g)a.animationID=null,a.accumulatedTime=0;else{b=b||k["default"]();g=b-a.prevTime;a.prevTime=b;a.accumulatedTime+=g;a.accumulatedTime>10*p&&(a.accumulatedTime=0);if(0===a.accumulatedTime)a.animationID=null;else{b=(a.accumulatedTime-Math.floor(a.accumulatedTime/p)*p)/p;g=Math.floor(a.accumulatedTime/p);for(var c=[],d=[],t=[],l=[],f=0;f<e.length;f++){var h=e[f],m={},n={},s={},H={},x;for(x in h)if(Object.prototype.hasOwnProperty.call(h,
x)){var u=h[x];if("number"===typeof u)m[x]=u,n[x]=0,s[x]=u,H[x]=0;else{for(var E=a.state.lastIdealStyles[f][x],r=a.state.lastIdealVelocities[f][x],w=0;w<g;w++)r=q["default"](p/1E3,E,r,u.val,u.stiffness,u.damping,u.precision),E=r[0],r=r[1];u=q["default"](p/1E3,E,r,u.val,u.stiffness,u.damping,u.precision);w=u[1];m[x]=E+(u[0]-E)*b;n[x]=r+(w-r)*b;s[x]=E;H[x]=r}}t[f]=m;l[f]=n;c[f]=s;d[f]=H}a.animationID=null;a.accumulatedTime-=g*p;a.setState({currentStyles:t,currentVelocities:l,lastIdealStyles:c,lastIdealVelocities:d});
a.unreadPropStyles=null}a.startAnimationIfNecessary()}})},componentDidMount:function(){this.prevTime=k["default"]();this.startAnimationIfNecessary()},componentWillReceiveProps:function(a){null!=this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles);this.unreadPropStyles=a.styles(this.state.lastIdealStyles);null==this.animationID&&(this.prevTime=k["default"](),this.startAnimationIfNecessary())},componentWillUnmount:function(){null!=this.animationID&&(m["default"].cancel(this.animationID),
this.animationID=null)},render:function(){var a=this.props.children(this.state.currentStyles);return a&&s["default"].Children.only(a)}});c["default"]=a;d.exports=c["default"]},function(d,c,a){function b(a){return a&&a.__esModule?a:{"default":a}}function n(a,b,e){return null==b?a.map(function(a,b){return{key:a.key,data:a.data,style:e[b]}}):a.map(function(a,g){for(var c=0;c<b.length;c++)if(b[c].key===a.key)return{key:b[c].key,data:b[c].data,style:e[g]};return{key:a.key,data:a.data,style:e[g]}})}function e(a,
b,e,c,d,f,h,l){c=v["default"](e,c,function(a,g){var e=b(g);return null==e||G["default"](d[a],e,f[a])?null:{key:g.key,data:g.data,style:e}});for(var m=[],n=[],s=[],k=[],u=0;u<c.length;u++){for(var p=c[u],r=null,w=0;w<e.length;w++)if(e[w].key===p.key){r=w;break}null==r?(r=a(p),m[u]=r,s[u]=r,p=q["default"](p.style),n[u]=p,k[u]=p):(m[u]=d[r],s[u]=h[r],n[u]=f[r],k[u]=l[r])}return[c,m,n,s,k]}c.__esModule=!0;var l=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var e=arguments[b],c;for(c in e)Object.prototype.hasOwnProperty.call(e,
c)&&(a[c]=e[c])}return a},f=a(2),q=b(f),f=a(3),k=b(f),f=a(4),m=b(f),f=a(12),v=b(f),f=a(5),s=b(f),f=a(7),p=b(f),f=a(8),G=b(f);a=a(9);var y=b(a),z=1E3/60;a=y["default"].createClass({displayName:"TransitionMotion",propTypes:{defaultStyles:a.PropTypes.arrayOf(a.PropTypes.shape({key:a.PropTypes.string.isRequired,data:a.PropTypes.any,style:a.PropTypes.objectOf(a.PropTypes.number).isRequired})),styles:a.PropTypes.oneOfType([a.PropTypes.func,a.PropTypes.arrayOf(a.PropTypes.shape({key:a.PropTypes.string.isRequired,
data:a.PropTypes.any,style:a.PropTypes.objectOf(a.PropTypes.oneOfType([a.PropTypes.number,a.PropTypes.object])).isRequired}))]).isRequired,children:a.PropTypes.func.isRequired,willLeave:a.PropTypes.func,willEnter:a.PropTypes.func},getDefaultProps:function(){return{willEnter:function(a){return k["default"](a.style)},willLeave:function(){return null}}},getInitialState:function(){var a=this.props,b=a.defaultStyles,c=a.styles,d=a.willEnter,a=a.willLeave,f="function"===typeof c?c(b):c,c=void 0,c=null==
b?f:b.map(function(a){for(var b=0;b<f.length;b++)if(f[b].key===a.key)return f[b];return a}),l=null==b?f.map(function(a){return k["default"](a.style)}):b.map(function(a){return k["default"](a.style)}),b=null==b?f.map(function(a){return q["default"](a.style)}):b.map(function(a){return q["default"](a.style)}),d=e(d,a,c,f,l,b,l,b);return{currentStyles:d[1],currentVelocities:d[2],lastIdealStyles:d[3],lastIdealVelocities:d[4],mergedPropsStyles:d[0]}},unmounting:!1,animationID:null,prevTime:0,accumulatedTime:0,
unreadPropStyles:null,clearUnreadPropStyle:function(a){for(var b=e(this.props.willEnter,this.props.willLeave,this.state.mergedPropsStyles,a,this.state.currentStyles,this.state.currentVelocities,this.state.lastIdealStyles,this.state.lastIdealVelocities),c=b[0],d=b[1],f=b[2],m=b[3],b=b[4],h=0;h<a.length;h++){var n=a[h].style,s=!1,k;for(k in n)if(Object.prototype.hasOwnProperty.call(n,k)){var p=n[k];"number"===typeof p&&(s||(s=!0,d[h]=l({},d[h]),f[h]=l({},f[h]),m[h]=l({},m[h]),b[h]=l({},b[h]),c[h]={key:c[h].key,
data:c[h].data,style:l({},c[h].style)}),d[h][k]=p,f[h][k]=0,m[h][k]=p,b[h][k]=0,c[h].style[k]=p)}}this.setState({currentStyles:d,currentVelocities:f,mergedPropsStyles:c,lastIdealStyles:m,lastIdealVelocities:b})},startAnimationIfNecessary:function(){var a=this;this.unmounting||(this.animationID=p["default"](function(b){var c=a.props.styles,d="function"===typeof c?c(n(a.state.mergedPropsStyles,a.unreadPropStyles,a.state.lastIdealStyles)):c;a:{var c=a.state.currentStyles,f=a.state.currentVelocities,
l=a.state.mergedPropsStyles;if(l.length!==d.length)c=!1;else{for(var h=0;h<l.length;h++)if(l[h].key!==d[h].key){c=!1;break a}for(h=0;h<l.length;h++)if(!G["default"](c[h],d[h].style,f[h])){c=!1;break a}c=!0}}if(c)a.animationID=null,a.accumulatedTime=0;else{b=b||s["default"]();c=b-a.prevTime;a.prevTime=b;a.accumulatedTime+=c;a.accumulatedTime>10*z&&(a.accumulatedTime=0);if(0===a.accumulatedTime)a.animationID=null;else{b=(a.accumulatedTime-Math.floor(a.accumulatedTime/z)*z)/z;for(var c=Math.floor(a.accumulatedTime/
z),k=e(a.props.willEnter,a.props.willLeave,a.state.mergedPropsStyles,d,a.state.currentStyles,a.state.currentVelocities,a.state.lastIdealStyles,a.state.lastIdealVelocities),d=k[0],f=k[1],l=k[2],h=k[3],k=k[4],p=0;p<d.length;p++){var q=d[p].style,v={},x={},u={},y={},r;for(r in q)if(Object.prototype.hasOwnProperty.call(q,r)){var w=q[r];if("number"===typeof w)v[r]=w,x[r]=0,u[r]=w,y[r]=0;else{for(var F=h[p][r],C=k[p][r],A=0;A<c;A++)C=m["default"](z/1E3,F,C,w.val,w.stiffness,w.damping,w.precision),F=C[0],
C=C[1];w=m["default"](z/1E3,F,C,w.val,w.stiffness,w.damping,w.precision);A=w[1];v[r]=F+(w[0]-F)*b;x[r]=C+(A-C)*b;u[r]=F;y[r]=C}}h[p]=u;k[p]=y;f[p]=v;l[p]=x}a.animationID=null;a.accumulatedTime-=c*z;a.setState({currentStyles:f,currentVelocities:l,lastIdealStyles:h,lastIdealVelocities:k,mergedPropsStyles:d});a.unreadPropStyles=null}a.startAnimationIfNecessary()}}))},componentDidMount:function(){this.prevTime=s["default"]();this.startAnimationIfNecessary()},componentWillReceiveProps:function(a){this.unreadPropStyles&&
this.clearUnreadPropStyle(this.unreadPropStyles);a=a.styles;this.unreadPropStyles="function"===typeof a?a(n(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.lastIdealStyles)):a;null==this.animationID&&(this.prevTime=s["default"](),this.startAnimationIfNecessary())},componentWillUnmount:function(){this.unmounting=!0;null!=this.animationID&&(p["default"].cancel(this.animationID),this.animationID=null)},render:function(){var a=n(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.currentStyles);
return(a=this.props.children(a))&&y["default"].Children.only(a)}});c["default"]=a;d.exports=c["default"]},function(d,c){c.__esModule=!0;c["default"]=function(a,b,c){for(var e={},d=0;d<a.length;d++)e[a[d].key]=d;for(var f={},d=0;d<b.length;d++)f[b[d].key]=d;for(var q=[],d=0;d<b.length;d++)q[d]=b[d];for(d=0;d<a.length;d++)if(!Object.prototype.hasOwnProperty.call(f,a[d].key)){var k=c(d,a[d]);null!=k&&q.push(k)}return q.sort(function(a,c){var d=f[a.key],l=f[c.key],k=e[a.key],n=e[c.key];if(null!=d&&null!=
l)return f[a.key]-f[c.key];if(null!=k&&null!=n)return e[a.key]-e[c.key];if(null!=d){for(var q=0;q<b.length;q++){var g=b[q].key;if(Object.prototype.hasOwnProperty.call(e,g)){if(d<f[g]&&n>e[g])return-1;if(d>f[g]&&n<e[g])break}}return 1}for(q=0;q<b.length;q++)if(g=b[q].key,Object.prototype.hasOwnProperty.call(e,g)){if(l<f[g]&&k>e[g])return 1;if(l>f[g]&&k<e[g])break}return-1})};d.exports=c["default"]},function(d,c,a){c.__esModule=!0;var b=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=
arguments[b],d;for(d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a};c["default"]=function(a,c){return b({},n,c,{val:a})};a=a(14);var n=b({},(a&&a.__esModule?a:{"default":a})["default"].noWobble,{precision:.01});d.exports=c["default"]},function(d,c){c.__esModule=!0;c["default"]={noWobble:{stiffness:170,damping:26},gentle:{stiffness:120,damping:14},wobbly:{stiffness:180,damping:12},stiff:{stiffness:210,damping:20}};d.exports=c["default"]},function(d,c,a){(function(a){c.__esModule=
!0;c["default"]=function(){"development"!==a.env.NODE_ENV||n||(n=!0,console.error("`reorderKeys` has been removed, since it is no longer needed for TransitionMotion's new styles array API."))};var n=!1;d.exports=c["default"]}).call(c,a(6))}])});